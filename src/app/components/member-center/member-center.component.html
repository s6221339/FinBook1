<div class="member-center-layout">
  <div class="sidebar-provider">
    <!-- 側邊欄 -->
    <aside class="sidebar">
      <div class="sidebar-header">
        <div class="user-profile">
          <img
            [src]="currentUser?.avatar || '/defaultavatar.jpg'"
            alt="用戶頭像"
            class="user-avatar"
            onerror="this.onerror=null;this.src='/defaultavatar.jpg';"
          />
          <div class="user-info">
            <h4 class="user-name">{{ currentUser?.name || '用戶' }}</h4>
            <p class="user-email" [matTooltip]="currentUser?.account">{{ currentUser?.account }}</p>
          </div>
        </div>
      </div>

      <nav class="sidebar-nav">
        <div class="nav-section">
          <h5 class="nav-section-title">個人設定</h5>
          <ul class="nav-list">
            <li class="nav-item">
              <a
                [routerLink]="['memberConfirm']"
                [class.active]="currentUrl.match('^/memberCenter/member(?:Info|Confirm)')"
                class="nav-link"
              >
                <mat-icon>person</mat-icon>
                <span>個人資料</span>
              </a>
            </li>
            <li class="nav-item">
              <a
                [routerLink]="['changePasswords']"
                [class.active]="currentUrl.match('^/memberCenter/changePasswords')"
                class="nav-link"
              >
                <mat-icon>lock</mat-icon>
                <span>更改密碼</span>
              </a>
            </li>
            <li class="nav-item">
              <a
                [routerLink]="['publishSubscription']"
                [class.active]="currentUrl.match('^/memberCenter/publishSubscription')"
                class="nav-link"
              >
                <mat-icon>subscriptions</mat-icon>
                <span>月付方案</span>
              </a>
            </li>
          </ul>
        </div>
      </nav>
    </aside>

    <!-- 主要內容區域 -->
    <main class="main-content">
      <div class="content-wrapper">
        <router-outlet></router-outlet>
      </div>
    </main>
  </div>
</div>
