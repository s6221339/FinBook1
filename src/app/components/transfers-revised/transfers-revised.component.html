<div class="transfer-form">
  <h2 class="form-title">額度轉移</h2>

  <!-- 轉出帳戶 -->
  <mat-form-field appearance="fill" class="full-width">
    <mat-label>轉出帳戶</mat-label>
    <mat-select [(ngModel)]="transferData.fromBalance">
      @for(balance of balanceList; track $index) {
        <mat-option [value]="balance.balanceId">
          {{ balance.name }}
        </mat-option>
      }
    </mat-select>
  </mat-form-field>

  <!-- 轉入帳號 -->
  <mat-form-field appearance="fill" class="full-width">
    <mat-label>轉入對象</mat-label>
    <mat-select [(ngModel)]="transferData.toAccount">
      @if(familyMemberList.length > 0) {
        @for(member of familyMemberList; track $index) {
          <mat-option [value]="member.account">
            <div class="member-option">
              <img [src]="member.avatar || defaultAvatar" class="avatar" />
              <span>{{ member.name }}</span>
            </div>
          </mat-option>
        }
      }
      @else {
        <mat-option disabled>目前沒有可選擇的成員</mat-option>
      }
    </mat-select>
  </mat-form-field>

  <!-- 金額 -->
  <mat-form-field appearance="fill" class="full-width">
    <mat-label>轉帳金額</mat-label>
    <input matInput type="number" [(ngModel)]="transferData.amount" min="1" step="1" />
  </mat-form-field>

  <!-- 備註 -->
  <mat-form-field appearance="fill" class="full-width">
    <mat-label>備註（可選）</mat-label>
    <input matInput type="text" [(ngModel)]="transferData.description" />
  </mat-form-field>

  <!-- 按鈕 -->
  <div class="button-group">
    <button mat-button color="warn" (click)="cancel()">取消</button>
    <button mat-raised-button color="primary" (click)="submitTransfer()">確認轉移</button>
  </div>

</div>
