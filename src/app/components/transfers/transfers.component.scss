/* 轉帳表單容器的整體樣式 */
.form-container {
  padding: 2rem;
  max-width: 900px;
  margin: 0 auto;
  color: var(--text-primary);
  &:hover {
    box-shadow:
      0 8px 32px color-mix(in srgb, var(--theme-main) 12%, #000 12%),
      0 0 24px 4px color-mix(in srgb, var(--theme-main) 12%, transparent 88%);
  }
}

/* 表單頭部區塊樣式 (包含圖示和標題) */
.form-header {
  display: flex;
  align-items: center;
  gap: 1rem;
  margin-bottom: 2rem;
  padding-bottom: 1rem;
  border-bottom: 2px solid var(--theme-main);

  /* 頭部圖示容器樣式 */
  .header-icon {
    width: 60px;
    height: 60px;
    border-radius: 50%;
    background: var(--theme-main);
    display: flex;
    align-items: center;
    justify-content: center;
    box-shadow: 0 4px 15px color-mix(in srgb, var(--theme-main) 40%, #000 20%);

    /* Material Icon 的樣式 */
    .material-icons {
      color: white;
      font-size: 2rem;
    }
  }

  /* 頭部文字區塊樣式 */
  .header-text {
    /* 標題 h2 的樣式 */
    h2 {
      font-size: 1.8rem;
      font-weight: 700;
      color: var(--theme-main);
      margin: 0 0 0.25rem 0;
    }

    /* 副標題 p 的樣式 */
    p {
      color: var(--input-hint);
      margin: 0;
      font-size: 1rem;
    }
  }
}

/* 表單每個主要區塊的樣式 */
.form-section {
  margin-bottom: 2rem;

  /* 區塊標題樣式 */
  .section-header {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    margin-bottom: 1rem;

    /* 區塊標題圖示的樣式 */
    .material-icons {
      color: var(--theme-main);
      font-size: 1.6rem;
    }

    /* 區塊標題 h3 的樣式 */
    h3 {
      font-size: 1.5rem;
      font-weight: 600;
      color: var(--theme-main);
      margin: 0;
    }
  }
}

/* 表單群組樣式 (用於包含輸入框和相關內容) */
.form-group {
  margin-bottom: 1rem;
}

/* 讓元素佔滿父容器的寬度 */
.full-width {
  width: 100%;
}

/* 表單輸入元素 */
.form-input,
.form-select,
.form-textarea {
  width: 100%;
  padding: 1rem;
  border: 1.5px solid var(--input-border);
  border-radius: 8px;
  background: var(--elevation-1);
  color: var(--text-primary);
  font-size: 1rem;
  outline: none;
  transition: border 0.2s, box-shadow 0.2s;
  box-shadow: 0 2px 8px rgba(44, 62, 80, 0.08);

  &:hover {
    border-color: var(--input-hover);
  }

  &:focus {
    border-color: var(--input-focus);
    box-shadow: 0 0 0 2px color-mix(in srgb, var(--input-focus) 40%, transparent 60%);
  }

  &::placeholder {
    color: var(--input-placeholder);
  }
}

.form-textarea {
  resize: vertical;
  min-height: 80px;
  font-family: inherit;
}

.form-select {
  cursor: pointer;
  background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='m6 8 4 4 4-4'/%3e%3c/svg%3e");
  background-position: right 0.5rem center;
  background-repeat: no-repeat;
  background-size: 1.5em 1.5em;
  padding-right: 2.5rem;
  appearance: none;
}

/* amount-input-wrapper 相關的樣式，目前未在 HTML 中使用，但保留以供參考 */
.amount-input-wrapper {
  position: relative;
  display: flex;
  align-items: center;
}

.currency-symbol {
  position: absolute;
  left: 1.2rem;
  top: 50%;
  transform: translateY(-50%);
  color: var(--input-placeholder);
  font-weight: 600;
  font-size: 1.1rem;
  pointer-events: none;
  z-index: 2;
}

.form-input[type='number'] {
  padding-left: 3.5rem;
  color: var(--input-text);
  padding-top: 1.2rem;
  width: 100%;
}

/* 轉入帳戶輸入框特殊樣式 */
.form-input.account-input {
  padding-left: 1.2rem;
}

/* 隱藏數字輸入框的增減箭頭 */
.form-input[type='number']::-webkit-outer-spin-button,
.form-input[type='number']::-webkit-inner-spin-button {
  -webkit-appearance: none;
  margin: 0;
}

.form-input[type='number'] {
  appearance: textfield;
  -webkit-appearance: textfield;
  -moz-appearance: textfield;
}

/* 提示文字 */
.input-hint {
  color: var(--input-hint);
  font-size: 0.875rem;
  margin-top: 0.5rem;
  margin-bottom: 0.2rem;
  letter-spacing: 0.5px;
}

/* 字數統計 */
.char-count {
  text-align: right;
  color: var(--input-hint);
  font-size: 0.75rem;
  margin-top: 0.25rem;
}

/* 表單操作按鈕區塊樣式 */
.form-actions {
  display: flex;
  gap: 1rem;
  margin-top: 3rem;
  padding-top: 2rem;
  border-top: 1px solid #e5e7eb;
}

/* 主要按鈕和次要按鈕的共同樣式 */
.btn-primary,
.btn-secondary {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 0.5rem;
  padding: 1rem 2rem;
  border-radius: 8px;
  font-weight: 600;
  font-size: 1rem;
  cursor: pointer;
  transition: all 0.2s ease;
  border: none;
  flex: 1;

  /* 按鈕內 Material Icon 的樣式 */
  .material-icons {
    font-size: 1.2rem;
  }
}

/* 主要按鈕 (確認轉帳) 的樣式 */
.btn-primary {
  background: var(--theme-main);
  color: #fff;
  border: none;
  box-shadow: 0 4px 15px color-mix(in srgb, var(--theme-main) 30%, #000 10%);
  transition: background 0.3s, box-shadow 0.3s, transform 0.2s;

  &:hover:not(:disabled), &.active {
    background: var(--theme-main);
    box-shadow: 0 8px 25px color-mix(in srgb, var(--theme-main) 40%, #000 20%);
    transform: translateY(-2px) scale(1.03);
  }

  &:disabled {
    background: #e5e7eb;
    color: #9ca3af;
    cursor: not-allowed;
    transform: none;
    box-shadow: none;
  }
}

/* 次要按鈕 (取消) 的樣式 */
.btn-secondary {
  background: var(--btn-secondary-bg);
  color: var(--btn-secondary-text);
  border: 2px solid var(--btn-secondary-border);

  /* 滑鼠懸停時的樣式 */
  &:hover {
    background: var(--btn-secondary-hover-bg);
    border-color: var(--btn-secondary-hover-border);
    transform: translateY(-2px);
  }
}

/* 響應式設計：當螢幕寬度小於或等於 768px 時應用 */
@media (max-width: 768px) {
  /* 表單容器的內邊距調整 */
  .form-container {
    padding: 1rem;
  }

  /* 表單頭部圖示和標題的樣式調整 */
  .form-header {
    .header-icon {
      width: 50px;
      height: 50px;

      .material-icons {
        font-size: 1.5rem;
      }
    }

    .header-text h2 {
      font-size: 1.5rem;
    }
  }

  /* 操作按鈕在小螢幕上垂直排列 */
  .form-actions {
    flex-direction: column;
  }
}

/* 建議列表的樣式 */
.suggestions {
  margin-top: 0.5rem;
  border: 1px solid var(--input-border);
  border-radius: 8px;
  background: var(--elevation-1);
  overflow: hidden;
}

/* 建議列表項目的樣式 */
.suggestion-item {
  padding: 0.75rem 1rem;
  cursor: pointer;
  transition: background 0.2s;
  border-bottom: 1px solid var(--input-border);

  &:last-child {
    border-bottom: none;
  }

  &:hover {
    background: var(--secondary-bg);
  }

  &.selected {
    background: color-mix(in srgb, var(--theme-main) 10%, var(--elevation-1));
    border-left: 4px solid var(--theme-main);
    color: var(--theme-main);
    font-weight: 600;
  }
}

/* 主題切換動畫 */
.form-container, .form-header, .header-icon, .header-text h2, .btn-primary, .btn-secondary {
  transition: background 0.4s, color 0.4s, border-color 0.4s;
}

.form-content {
  background: none;
  border-radius: 0;
  padding: 0;
  box-shadow: none;
  color: inherit;
}

hr {
  border-top: 3px solid var(--theme-main);
}

.form-content,
.form-content *:not(input):not(textarea):not(select) {
  cursor: default;
}

.form-header, .form-header * {
  cursor: default !important;
}

.form-header p {
  color: #475569;
}

.section-header h3 {
  font-size: 1.1rem;
}

.section-header .material-icons {
  font-size: 1.3rem;
}

.type-form-divider {
  position: relative;
  width: 100% !important;
  max-width: 800px !important;
  height: 0.5px !important;
  margin: 0 auto 1.5rem auto !important;
  border-radius: 1px !important;
  background:
    linear-gradient(
      90deg,
      transparent 0%,
      rgba(var(--theme-main-rgb), 0.12) 18%,
      rgba(var(--theme-main-rgb), 0.38) 50%,
      rgba(var(--theme-main-rgb), 0.12) 82%,
      transparent 100%
    ),
    linear-gradient(
      90deg,
      #e0e7ef 0%,
      #e0e7ef 100%
    );
  display: block !important;
  opacity: 1;
  transition: background 0.4s;
  z-index: 1;
}

.type-form-divider::after {
  content: '';
  display: block;
  position: absolute;
  left: 0; right: 0; top: 50%;
  height: 1.2px;
  background: rgb(var(--theme-main-rgb));
  transform: translateY(-50%);
  width: 100%;
  z-index: 2;
  opacity: 0.58;
  pointer-events: none;
}

.dark-mode .type-form-divider {
  background:
    linear-gradient(
      90deg,
      transparent 0%,
      rgba(var(--theme-main-rgb), 0.16) 18%,
      rgba(var(--theme-main-rgb), 0.40) 50%,
      rgba(var(--theme-main-rgb), 0.16) 82%,
      transparent 100%
    ),
    linear-gradient(
      90deg,
      rgba(49,58,92,0.32) 0%,
      rgba(49,58,92,0.32) 100%
    );
  opacity: 1;
  height: 2.5px !important;
}

.dark-mode .type-form-divider::after {
  background: rgb(var(--theme-main-rgb));
  opacity: 0.62;
}

/* 針對主題色自動切換，補充 rgb 變數（轉帳藍） */
.transfer-theme { --theme-main-rgb: 56,189,248; }
