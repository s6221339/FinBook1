/* 亮色模式 */
:root {
  /* 主題色系 */
  --primary-bg: #f5f6fa;         /* 主背景（header/footer/主內容） */
  --secondary-bg: #f0f6ff;    /* 區塊/卡片/hover/分隔 */
  --primary: #2563eb;         /* 品牌藍，icon/active/底線 */
  --cta-bg: #2563eb;         /* 行動按鈕背景 */
  --steps-bg: #ffffff;         /* 步驟區塊背景 */

  --cta-text: #f0f6ff;         /* 行動按鈕文字 */
  /* 背景與卡片 */
  --elevation-0: #f5f6fa;     /* 主背景 */
  --elevation-1: #fff;        /* 卡片/表單 */

  /* 文字 */
  --text-primary: #263159;
  --text-secondary: #115599;
  --title-text-color:linear-gradient(45deg, var(--primary), var(--expense));

  /* 功能色（子路由主題色） */
  --expense: #fd4848;
  --income: #02a267;
  --fixed-expense: #ff9800;
  --fixed-income: #c701ef;
  --transfer: #2563eb;
  --transfer-out: #ef0000;
  --transfer-in:  #176c2a;

  /* 字體大小 */
  --font-size-h1: 3rem;
  --font-size-h2: 2.25rem;
  --font-size-h3: 1.5rem;
  --font-size-body: 1rem;
  --font-size-caption: 0.875rem;

  /* 間距 */
  --space-xs: 8px;
  --space-sm: 12px;
  --space-md: 16px;
  --space-lg-2: 20px;
  --space-lg: 24px;
  --space-xl: 32px;

  /* 玻璃感卡片相關變數 */
  --card-radius: 8px;                    /* 卡片圓角 */
  --card-shadow: 0 8px 32px rgba(0,0,0,0.12);  /* 卡片陰影 */
  --card-shadow-hover: 0 12px 40px rgba(0,0,0,0.18);  /* 卡片hover陰影 */
  --glass-bg-light: rgba(255,255,255,0.18);    /* 亮色模式玻璃背景 */
  --glass-bg-dark: rgba(30,41,59,0.18);        /* 暗色模式玻璃背景 */
  --glass-border-light: rgba(255,255,255,0.25); /* 亮色模式玻璃邊框 */
  --glass-border-dark: rgba(255,255,255,0.15);  /* 暗色模式玻璃邊框 */
  --glass-blur: 12px;                           /* 毛玻璃模糊度 */

  --choose-account-bg: #04950c; /* 選擇帳戶背景 */

  --table-hover-bg: #fcf8cf; /* 表格 hover 用 */

  /* 表格單雙數行底色 */
  --table-row-odd-bg:   #f4f7fd;     /* 單數行 */
  --table-row-even-bg:   #e3e6f3; /* 雙數行*/

  /* 表格表頭底色（藍紫科技感） */
  --table-header-bg: #e3f0ff;
  --table-header-text: #1976d2;
  --table-hover-text: #263159;
  --table-border: #b0b8d1;
  --table-sort: #04950c;

  --checkbox-border: #263159;

  --mdc-checkbox-unselected-icon-color: #263159;
  --mdc-checkbox-selected-icon-color: #2563eb;
  --mdc-checkbox-unselected-hover-icon-color: #2563eb;
  --mdc-checkbox-selected-hover-icon-color: #ffd600;

  /* 分頁器專用顏色 */
  --paginator-bg: #f5f5f8; /* 日間分頁器背景，表頭色加白 */
  --paginator-border: #e3e6f3; /* 分頁器上邊界線 */
  --paginator-label: #263159; /* 分頁器label主色 */
  --paginator-icon: #263159; /* 分頁器icon顏色 */
  --paginator-hover: rgba(37, 99, 235, 0.12); /* 分頁器hover */

  --calendar-clear-btn: #2563eb;
  --calendar-background: #f0f6ff;

  --table-total-bg: #04950c; /* 表格總計背景 */

  --btn-primary-text: #2563eb; /* 按鈕主色 */

  --theme-toggle-yellow: #2563eb; /* 亮黃色，給主題切換icon用 */

  --nav-link-active: #2563eb; /* 導航連結active */

  --battery-outline: #333;
  --battery-percent-text: #000000;    // 電池百分比文字顏色

  --budget-info-icon: var(--primary);
  --budget-info-icon-glow: none;
  --budget-info-value: var(--primary);
  --edit-btn-icon:   #6b6b6b;

  --user-button-pink:  #eb6ab1; /* 登入後 user-button 專用粉紅色 */

  /* 表單專用變數 */
  --input-bg: #f2f8fd;
  --input-border: #e0e0e0;
  --input-text: #263159;
  --input-placeholder: #7b7b7b;
  --input-focus: var(--primary);
  --input-hover: var(--primary);
  --input-hint: #2b4b6b;
  --input-error: var(--expense);
  --input-icon: var(--primary);

  /* 表單 UI 元素變數 */
  --form-label: #263159;
  --form-section-title: #115599;
  --form-icon: var(--primary);
  --form-desc: #64748b;
  --btn-primary-bg: var(--expense);
  // --btn-primary-text: #fff;
  --btn-primary-hover: #e76f51cc;
  --btn-secondary-bg: #fff;
  --btn-secondary-text: #6b7280;
  --btn-secondary-border: #e5e7eb;
  --btn-secondary-hover-bg: #f9fafb;
  --btn-secondary-hover-border: #d1d5db;
  --divider: #e0e0e0;


  /* 主題色 RGB（全站共用，給分隔線等用） */
  --expense-rgb: 248,113,113;
  --income-rgb: 52,211,153;
  --fixed-expense-rgb: 251,191,36;
  --fixed-income-rgb: 167,139,250;
  --transfer-rgb: 56,189,248;

  /* 分隔線光暈透明度 */
  --divider-glow-main: 0.45;
  --divider-glow-side: 0.18;
  --divider-glow-main-dark: 0.70;
  --divider-glow-side-dark: 0.32;

  /* =========================
     取消按鈕（白底藍字藍框）專用變數
     ========================= */
  --btn-cancel-bg: #fff;
  --btn-cancel-text: var(--primary);
  --btn-cancel-border: var(--primary);
  --btn-cancel-hover-bg: var(--secondary-bg);
  --btn-cancel-hover-border: var(--primary);
  --btn-cancel-hover-text: var(--primary);

  /* =========================
     分類表頭（category-header）專用變數
     ========================= */
  --category-header-bg: #b3d5fc;
  --category-header-text: #004ae9;
  --category-header-badge-bg: #e0f2fe;
  --category-header-badge-text: #0369a1;
  --category-header-shadow: none;

  /* =========================
     細項區塊（items-grid）與 chip 專用變數
     ========================= */
  --items-grid-bg: #f5f8fd;
  --item-chip-bg: #fff;
  --item-chip-text: #374151;

  --cta-btn-bg: var(--primary);           /* CTA按鈕背景（藍色） */
  --cta-btn-hover-bg: #1746a2;            /* CTA按鈕hover背景（深藍） */
  --cta-btn-text: #fff;                   /* CTA按鈕文字 */
  --cta-btn-icon: #fff;                   /* CTA按鈕icon顏色 */

  --theme-toggle-icon: var(--primary); /* 主題切換icon顏色（亮色模式主題藍） */
  --theme-toggle-bg: var(--primary);   /* 主題切換toggle背景（亮色模式主題藍） */

  --warn: #e53935;
  --warn-hover-bg: #ffeaea;
  --warn-text: #e53935;
  --edit: var(--primary);
  --edit-hover-bg: #e3f0ff;
  --edit-text: var(--primary);

  // familyManagement 按鈕
  --btn-primary-soft: #0969da;
  --btn-primary-soft-hover: #0550ae;
  --btn-success-soft: #1a7f37;
  --btn-success-soft-hover: #116329;
  --btn-secondary-soft: #656d76;
  --btn-secondary-soft-hover: #4c535b;
  --btn-icon:var(--fixed-expense);
  --btn-create-family:#017807;
  --btn-delete:#f32c2c;
  --btn-delete-hover:#dc2626;

  // 登入
  --btn-login-register:var(--cta-btn-bg);
  --btn-login:var(--primary);

  //會員中心
  --member-br:var(--primary);
}

/* 暗黑模式 */
.dark-mode {
  --primary-bg: #181c24;
  --secondary-bg: #3a4a7c; /* 分隔/邊框，亮一點的藍灰 */
  --primary: #7bb0ff;         /* 主色亮藍 */
  --cta-bg: var(--secondary-bg);  /* 行動按鈕背景 */
  --steps-bg: #181c24;         /* 步驟區塊背景 */

  --elevation-0: #181c24;
  --elevation-1: #313a5c; /* 卡片底色，比原本亮一點 */

  --text-primary: #f6faff; // 主文字
  --text-secondary: #f6faff; // 次文字
  --title-text-color:#f6faff;

  --income: #38c1b1;          /* 亮綠 */
  --expense: #f08a70;         /* 亮橘 */
  --fixed-expense: #fd984b;   /* 橘黃 */
  --fixed-income: #a38ad1;    /* 亮紫 */
  --transfer: #2ac5e3;        /* 輔助藍綠 */
  --transfer-out: #ff5252;
  --transfer-in:  #69f0ae;

  /* 玻璃感卡片相關變數（暗色模式） */
  --card-shadow: 0 8px 32px rgba(0,0,0,0.25);
  --card-shadow-hover: 0 12px 40px rgba(0,0,0,0.35);

  --choose-account-bg: #ffd600; /* 選擇帳戶背景 */
  --table-hover-bg: #4256a5; /* hover 明顯 */

  /* 表格單雙數行底色（暗黑模式） */
  --table-row-odd-bg:  #313a5c;   /* 單數行，深色 */
  --table-row-even-bg: #232a36;  /* 雙數行，更深 */

  /* 表格表頭底色（暗黑模式） */
  --table-header-bg: #3a4a7c; /* 表頭更亮一階 */
  --table-header-text: #fff;
  --table-hover-text: #fff;
  --table-border: var(--secondary-bg);
  --table-sort: #ffd600;

  --checkbox-border: #fff;

  --mdc-checkbox-unselected-icon-color: #fff;
  --mdc-checkbox-selected-icon-color: #ffd600;
  --mdc-checkbox-unselected-hover-icon-color: #ffd600;
  --mdc-checkbox-selected-hover-icon-color: #ffd600;

  /* 分頁器專用顏色（暗黑） */
  --paginator-bg: rgb(59, 67, 95); /* 暗黑分頁器背景，表頭色加黑 */
  --paginator-border: #313a5c;
  --paginator-label: #fff;
  --paginator-icon: #fff;
  --paginator-hover: rgba(123, 176, 255, 0.18);

  --calendar-clear-btn: #fff;
  --calendar-background: #3a4a7c;

  --table-total-bg: #04950c; /* 表格總計背景 */

  --btn-primary-text: #f0f6ff; /* 按鈕主色 */
  --theme-toggle-yellow: #ffd600; /* 亮黃色，給主題切換icon用 */

  --nav-link-active: #ffd600; /* 導航連結active */

  --battery-outline: #fff;
  --battery-percent-text: #fff;    // 電池百分比文字顏色

  --budget-info-icon: #ffd600;
  --budget-info-text: #fff;
  --budget-info-icon-glow: none;
  --budget-info-value: #fff;
  --edit-btn-icon: #ff8000 ;

  --user-button-pink: #e055a1; /* 暗黑模式同色，若需可調整 */

  /* 表單專用變數 */
  --input-bg: #181c24;
  --input-border: #7bb0ff;
  --input-text: #fff;
  --input-placeholder: #cccccc;
  --input-focus: var(--primary);
  --input-hover: var(--primary);
  --input-hint: #e0e0e0;
  --input-error: var(--expense);
  --input-icon: var(--primary);

  /* 表單 UI 元素變數 */
  --form-label: #f6faff;
  --form-section-title: #ffd600;
  --form-icon: #ffd600;
  --form-desc: #b0b8d1;
  --btn-primary-bg: var(--expense);
  --btn-primary-text: #fff;
  --btn-primary-hover: #f08a70;
  --btn-secondary-bg: #232a36;
  --btn-secondary-text: #f6faff;
  --btn-secondary-border: #3a4a7c;
  --btn-secondary-hover-bg: #313a5c;
  --btn-secondary-hover-border: #7bb0ff;

  --add-item-btn-bg: #232a36;
  --add-item-btn-border: #3a4a7c;
  --add-item-btn-text: #b0b8d1;
  --add-item-btn-hover-bg: #313a5c;
  --add-item-btn-hover-border: #ffd600;
  --add-item-btn-hover-text: #ffd600;

  /* =========================
     取消按鈕（白底藍字藍框）專用變數（暗色模式）
     ========================= */
  --btn-cancel-bg: #232a36;
  --btn-cancel-text: var(--primary);
  --btn-cancel-border: var(--primary);
  --btn-cancel-hover-bg: #313a5c;
  --btn-cancel-hover-border: var(--primary);
  --btn-cancel-hover-text: var(--primary);

  /* =========================
     分類表頭（category-header）專用變數（暗黑模式）
     ========================= */
  --category-header-bg: #263159;
  --category-header-text: var(--primary);
  --category-header-badge-bg: #7bb0ff;
  --category-header-badge-text: #181c24;
  --category-header-shadow: 0 1px 4px #181c24;

  /* =========================
     細項區塊（items-grid）與 chip 專用變數（暗黑模式）
     ========================= */
  --items-grid-bg: #232a36;
  --item-chip-bg: #313a5c;
  --item-chip-text: #f6faff;

  --cta-btn-bg: #313a5c;                  /* 暗黑模式下CTA按鈕背景 */
  --cta-btn-hover-bg: #3f5091;            /* 暗黑模式下hover背景 */
  --cta-btn-text: #fff;                   /* 暗黑模式下文字 */
  --cta-btn-icon: var(--primary);         /* 暗黑模式下icon顏色（與highlight-item一致） */

  --theme-toggle-icon: #ffd600; /* 主題切換icon顏色（暗色模式亮黃）#ffe066 */
  --theme-toggle-bg: #ffd600;   /* 主題切換toggle背景（暗色模式亮黃）#ffe066 */

  --warn: #ff8a80;
  --warn-hover-bg: #4a2323;
  --warn-text: #ff8a80;
  --edit: var(--primary);
  --edit-hover-bg: #23325c;
  --edit-text: var(--primary);

  // familyManagement 按鈕
  --btn-primary-soft: #4493f8;
  --btn-primary-soft-hover: #2972c5;
  --btn-success-soft: #3fb950;
  --btn-success-soft-hover: #2ea043;
  --btn-secondary-soft: #6e7681;
  --btn-secondary-soft-hover: #5d646d;
  --btn-icon:#ffd600;
  --btn-create-family:#028709;
  --btn-delete:#f21d1d;
  --btn-delete-hover:#da0202;

  // 登入
  --btn-login-register:var(--primary-bg);
  --btn-login:var(--elevation-0);

  //會員中心
  --member-br:var(--elevation-0);
}

/* 英雄區塊動畫 - 滑入效果 */
.animate-hero-left {
  animation: slideInLeft 1.2s cubic-bezier(0.4, 0, 0.2, 1) forwards;
}

.animate-hero-right {
  animation: slideInRight 1.2s cubic-bezier(0.4, 0, 0.2, 1) forwards;
}

@keyframes slideInLeft {
  from {
    opacity: 0;
    transform: translateX(-60px);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
}

@keyframes slideInRight {
  from {
    opacity: 0;
    transform: translateX(60px);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
}

/* 滾動動畫基礎樣式 - 慢一點點 */
.animate-on-scroll {
  opacity: 0;
  transition: opacity 0.9s cubic-bezier(0.4, 0, 0.2, 1),
              transform 0.9s cubic-bezier(0.4, 0, 0.2, 1);
}

.animate-on-scroll.animate-triggered {
  opacity: 1 !important;
  transform: translateY(0) scale(1) !important;
}

/* 動畫類型 */
.fade-in-up {
  transform: translateY(50px);
}

.fade-in-down {
  transform: translateY(-50px);
}

.fade-in-left {
  transform: translateX(-50px);
}

.fade-in-right {
  transform: translateX(50px);
}

.scale-in {
  transform: scale(0.85);
}

.slide-in {
  transform: translateX(-70px);
}

/* 微互動效果 */
.feature-card {
  transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
}

.feature-card:hover {
  transform: translateY(-8px);
  box-shadow: 0 15px 40px rgba(0, 0, 0, 0.15);
}

.feature-link {
  transition: all 0.3s ease;
}

.feature-link:hover {
  transform: translateX(8px);
}

.step-item {
  transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
}

.step-item:hover {
  transform: translateY(-5px);
}

.step-number {
  transition: all 0.3s ease;
}

.step-item:hover .step-number {
  transform: scale(1.1);
}

/* 無障礙支援 */
@media (prefers-reduced-motion: reduce) {
  .animate-on-scroll,
  .animate-hero-left,
  .animate-hero-right,
  .feature-card,
  .step-item {
    animation: none !important;
    transition: none !important;
    transform: none !important;
  }
}

/* 移動端優化 */
@media (max-width: 768px) {
  .animate-on-scroll {
    transition-duration: 0.6s;
  }

  .animate-hero-left,
  .animate-hero-right {
    animation-duration: 0.8s;
  }
}

/* 玻璃感卡片基礎樣式 */
.glass-card {
  background: var(--glass-bg-light);
  backdrop-filter: blur(var(--glass-blur));
  border: 1.5px solid var(--glass-border-light);
  border-radius: var(--card-radius);
  box-shadow: var(--card-shadow);
  transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);

  &:hover {
    transform: translateY(-4px);
    box-shadow: var(--card-shadow-hover);
  }
}

/* 暗色模式自動切換 */
.dark-mode .glass-card {
  background: var(--glass-bg-dark);
  border-color: var(--glass-border-dark);
}

/* 主題色卡片變體 */
.expense-theme .glass-card {
  border-color: var(--expense);
  box-shadow: 0 8px 32px rgba(248, 113, 113, 0.2);

  &:hover {
    box-shadow: 0 12px 40px rgba(248, 113, 113, 0.3);
  }
}

.income-theme .glass-card {
  border-color: var(--income);
  box-shadow: 0 8px 32px rgba(52, 211, 153, 0.2);

  &:hover {
    box-shadow: 0 12px 40px rgba(52, 211, 153, 0.3);
  }
}

.fixed-expense-theme .glass-card {
  border-color: var(--fixed-expense);
  box-shadow: 0 8px 32px rgba(251, 191, 36, 0.2);

  &:hover {
    box-shadow: 0 12px 40px rgba(251, 191, 36, 0.3);
  }
}

.fixed-income-theme .glass-card {
  border-color: var(--fixed-income);
  box-shadow: 0 8px 32px rgba(167, 139, 250, 0.2);

  &:hover {
    box-shadow: 0 12px 40px rgba(167, 139, 250, 0.3);
  }
}

.transfer-theme .glass-card {
  border-color: var(--transfer);
  box-shadow: 0 8px 32px rgba(56, 189, 248, 0.2);

  &:hover {
    box-shadow: 0 12px 40px rgba(56, 189, 248, 0.3);
  }
}

/* 響應式玻璃感卡片 */
@media (max-width: 768px) {
  .glass-card {
    border-radius: 16px;

    &:hover {
      transform: translateY(-2px);
    }
  }
}

/* 主題色動態變數（全站主題切換） */
.expense-theme {
  --theme-main: var(--expense);
  --theme-main-rgb: var(--expense-rgb);
}
.income-theme {
  --theme-main: var(--income);
  --theme-main-rgb: var(--income-rgb);
}
.fixed-expense-theme {
  --theme-main: var(--fixed-expense);
  --theme-main-rgb: var(--fixed-expense-rgb);
}
.fixed-income-theme {
  --theme-main: var(--fixed-income);
  --theme-main-rgb: var(--fixed-income-rgb);
}
.transfer-theme {
  --theme-main: var(--transfer);
  --theme-main-rgb: var(--transfer-rgb);
}

.glass-card-theme {
  backdrop-filter: blur(var(--glass-blur));
  border-radius: var(--card-radius);
  box-shadow: 0 8px 32px color-mix(in srgb, var(--theme-main) 10%, #000 20%);
  transition: box-shadow 0.4s, background 0.4s, border-color 0.4s;
  &:hover {
    box-shadow: 0 12px 40px color-mix(in srgb, var(--theme-main) 30%, #000 30%);
    background: color-mix(in srgb, var(--theme-main) 18%, var(--glass-bg-dark));
    border-color: var(--theme-main);
  }
}
:root .glass-card-theme {
  background: color-mix(in srgb, var(--theme-main) 30%, var(--glass-bg-light));
  border: 1.5px solid color-mix(in srgb, var(--theme-main) 18%, var(--glass-border-light));
}
